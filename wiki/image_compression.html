<!doctype html><html lang="en"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Image compression</title><meta name="author" content="Avanier"><meta name="description" content="The Athenaeum is Josh Avanier's wiki"><meta name="thumbnail" content="https://joshavanier.github.io/img/av.png" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@joshavanier"><meta name="twitter:title" content="The Athenaeum"><meta name="twitter:description" content="The Athenaeum is Josh Avanier's wiki"><meta name="twitter:creator" content="@joshavanier"><meta name="twitter:image" content="https://joshavanier.github.io/img/josh.png"><link rel="stylesheet" href="../s.css"/><body><p id=u><a href="./monographs.html">Monographs</a></p><input id=s value="Image compression" spellcheck=false><div id="c"><p>I'm a fan of how Low Tech Magazine reduces their <a href="http://solar.lowtechmagazine.com" target="_blank">solar site</a>'s page weight by dithering their images. Here's my take on that process.</p><img src="../img/1-converted.png"/><p>As an example, we'll use this image, which has already been resized and converted to PNG. This was originally a 4.14 MB JPEG.</p><h2>Resize</h2><p>Unless you have a good reason to, don't add a 1500px-wide image on your site if you're having it displayed at 500px. Our example was originally 4496x3000 (4.14 MB). After resizing it to 1300x867, the file size reduced to 582.7 KiB &mdash; an 85.58% decrease!</p><p>The rest of the post is optional. Resizing images appropriately based on how they will be presented on a page is the least we can do to reduce page weight.</p><h2>Desaturation</h2><p>I use GIMP to process images. I start by desaturating the image. Click on <b>Colors</b> -> <b>Desaturate</b> on the menu. Desaturation is optional but the less colours an image has, the smaller its file size. Our example's file size went down to 476.5 KiB once desaturated.</p><img src="../img/2-desatured.jpeg"/><h2>Colourmap & Dithering</h2><p>Next I convert the image to indexed colours. Click on <b>Image</b> -> <b>Mode</b> -> <b>Indexed</b> on the menu. Choosing a colourmap depends on the image you're working with and your preference. We'll look at two options: the optimum palette and the 1-bit palette.</p><p>Then choose a dithering option to apply. Different options will work best for different images. You'll just have to try them all.</p><p>The 1-bit palette produces the following photo which uses only two colours &mdash; black and white. It's a bit too "noisy" for my taste. Additionally, zooming in at certain magnifications may distort the image.</p><img src="../img/3-d-1b.png"><img src="../img/3-d-1b-r.png"><table><tr><th>Colours </th><th> None </th><th> Normal </th><th> Reduced </th><th> Positioned</th></tr><tr><td>2 </td><td> <b>26.2 KiB</b> </td><td> 106.7 KiB </td><td> 56.5 KiB </td><td> 42.2 KiB</td></tr></table><p>I prefer using an optimum palette. You'll have to decide on how many colours you'll want in your palette. That would depend on how much detail you want to preserve and whether or not your image is desaturated. More colours means more details and a bigger file size.</p><p>Here are indexed images set at 2, 4, and 8 colours. Note the level of detail in each image.</p><img src="../img/3-d-2c.png"><img src="../img/3-d-4c.png"><img src="../img/3-d-8c.png"><table><tr><th>Colours </th><th> None </th><th> Normal </th><th> Reduced </th><th> Positioned</th></tr><tr><td>2 </td><td> <b>27.6 KiB</b> </td><td> 48.3 KiB </td><td> 44.6 KiB </td><td> 47.5 KiB</td></tr><tr><td>4 </td><td> <b>90.2 KiB</b> </td><td> 116.0 KiB </td><td> 115.5 KiB </td><td> 105.2 KiB</td></tr><tr><td>8 </td><td> <b>183.6 KiB</b> </td><td> 219.5 KiB </td><td> 219.4 KiB </td><td> <b>183.6 KiB</b></td></tr><tr><td>16 </td><td> <b>279.2 KiB</b> </td><td> 312.1 KiB </td><td> 312.1 KiB </td><td> 293.7 KiB</td></tr></table><p>Now what if you want a coloured image? Here are indexed images set at 8 and 16 colours. Setting it below 4 desaturates it.</p><img src="../img/3-c-8c.png"><img src="../img/3-c-16c.png"><table><tr><th>Colours </th><th> None </th><th> Normal </th><th> Reduced </th><th> Positioned</th></tr><tr><td>2 </td><td> <b>22.9 KiB</b> </td><td> 50.6 KiB </td><td> 44.2 KiB </td><td> 47.1 KiB</td></tr><tr><td>4 </td><td> <b>91.3 KiB</b> </td><td> 117.7 KiB </td><td> 117.5 KiB </td><td> 106.4 KiB</td></tr><tr><td>8 </td><td> <b>165.1 KiB</b> </td><td> 215.0 KiB </td><td> 213.9 KiB </td><td> 186.4 KiB</td></tr><tr><td>16 </td><td> <b>229.5 KiB</b> </td><td> 283.6 KiB </td><td> 282.8 KiB </td><td> 262.1 KiB</td></tr></table><h2>PNG</h2><p>At this point, the images feature few colours, so it's a good idea to export them as PNGs.</p><h2>Question the Need</h2><p>The final step of image compression is to stop and reconsider the need for images in the first place. They say a picture is worth a thousand words, but in this day and age, that's a thousand words plus a shit ton of kilobytes.</p></div><footer><a title="Kin" href="http://webring.xxiivv.com/#random" target="_blank"><img id="w" src="../img/rotonde.svg" alt="Webring"></a><a title="Town" href="https://merveilles.town/@joshavanier" target="_blank"><img id="m" src="../img/merveilles.svg" alt="Merveilles"></a><p><a href="./josh.html">Josh Avanier</a> © Éternité</footer><script src="../search.js"></script>